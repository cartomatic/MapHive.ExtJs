//Disable some of the JSLint warnings
/*global window,console,Ext*/
(function(){
    //Make sure strict mode is on
    'use strict';
    
    Ext.define('mh.data.proxy.Rest', {
        extend: 'Ext.data.proxy.Rest',

        alias: 'proxy.mhrest',

        mixins: [
            'mh.data.Ajax',
            'mh.mixin.CallMeParent'
        ],

    requires: [
        'mh.data.writer.Json',
        'mh.data.reader.Json'
    ],

    //writer used to send data out
        writer: {
            type: 'mhjson'
        },

        reader: {
            type: 'mhjson'
        },


        /**
         * An override of the autogenerated getter of the 'Ext.data.proxy.Ajax'
         * this ovveride ensures all the needed auth related stuff gets glued to the configured headers
         * it also uses the content and accept types as specified in the ajax helper
         * @private
         * @member mh.data.proxy.Rest
         */
        getHeaders: function(){

            var headers = this.callMeParent('getHeaders', arguments) || {};

            //merge the needed stuff into
            return Ext.merge(headers, this.getStandardHeaders());
        }

    });

}());